#!/usr/bin/env bash
function _load_conf() {
  for conf in "$1"/*.conf.sh; do
    [ -e "${conf}" ] && source "${conf}"
  done
  return 0
}

function _load_completion () {
  local base_path="$1"
  for f in $base_path/*; do
    test -d $f && continue
    [ -e "${f}" ] && source "${f}"
  done
}

PROFILE_PATH="${HOME}/.profile.d"
PLATFORM="$(uname)"

export PATH="$PATH:$HOME/bin"

_load_conf "${PROFILE_PATH}/base/confs"
_load_conf "${PROFILE_PATH}/${PLATFORM}/confs"

_load_completion "${PROFILE_PATH}/base/completions"
_load_completion "${PROFILE_PATH}/${PLATFORM}/completions"
